test_only: False
only_velodyne: False
scale_factor: 1.0
vfov: null
hfov: null
selected_frames: null
shuffle: True
median_depth: False
lambda_distortion: 0.0
sequence_id: null  # for kitti-360
intensity_lr: 0.1
lambda_lidar_median: 0.0
lambda_lidar_dssim: 0.0
lambda_depth_opa: 0.0
lambda_normal_consistency: 0.0
lambda_raydrop: 0.0
lambda_intensity: 0.0
lambda_smooth: 0.0
lambda_tv: 0.0
lambda_chamfer: 0.0
lambda_flow_loss: 0.0
lambda_edge_guidance: 0.0
lambda_gs_opa: 0.0
lambda_depth_var: 0.0
dynamic: True
sky_depth: True
raydrop_prior_lr: 0.1

test_iterations: [7000, 30000]
save_iterations: [7000, 30000]
checkpoint_iterations: [7000, 15000, 30000]
exhaust_test: false
test_interval: 5000
render_static: false
vis_step: 500
start_checkpoint: null
seed: 0
use_viewer: false
viewer_host: "0.0.0.0"
viewer_port: 7007
viewer_max_points: 2000000
rendering_iterations: [0, 100, 500, 1000, 2000, 3000, 5000, 7000, 10000, 15000, 20000, 30000]

# ModelParams
sh_degree: 3
scene_type: "Waymo"
source_path: ???
start_frame: 65  # for kitti 
end_frame: 120  # for kitti
model_path: ???
resolution_scales: [1]
resolution: -1
white_background: false
data_device: "cuda"
eval: false
debug_cuda: false
cam_num: 3  # for waymo
t_init: 0.2
cycle: 0.2
velocity_decay: 1.0
random_init_point: 200000
fix_radius: 0.0
time_duration: [-0.5, 0.5]
num_pts: 100000
frame_interval: 0.02
testhold: 4  # NVS
env_map_res: 1024
separate_scaling_t: 0.1
neg_fov: true

# PipelineParams
convert_SHs_python: false
compute_cov3D_python: false
debug: false
depth_blend_mode: 0
env_optimize_until: 1000000000
env_optimize_from: 0


# OptimizationParams
iterations: 30000
position_lr_init: 0.00016
position_lr_final: 0.0000016
position_lr_delay_mult: 0.01
t_lr_init: 0.0008
position_lr_max_steps: 30_000
feature_lr: 0.0025
opacity_lr: 0.05
scaling_lr: 0.005
scaling_t_lr: 0.002
velocity_lr: 0.001
rotation_lr: 0.001
envmap_lr: 0.01

time_split_frac: 0.5
percent_dense: 0.01
thresh_opa_prune: 0.02
densification_interval: 200
opacity_reset_interval: 3000
densify_from_iter: 500
densify_until_iter: 15_000
densify_grad_threshold: 0.0001
densify_grad_abs_threshold: 0.0004
densify_grad_t_threshold: 0.002
densify_until_num_points: 3000000
sh_increase_interval: 1000
scale_increase_interval: 5000
prune_big_point: 1
size_threshold: 20
big_point_threshold: 0.1
t_grad: true
no_time_split: true
contract: true

lambda_dssim: 0.2
lambda_opa: 0.0
lambda_sky_opa: 0.05
lambda_opacity_entropy: 0.05
lambda_inv_depth: 0.001
lambda_self_supervision: 0.5
lambda_t_reg: 0.0
lambda_v_reg: 0.0
lambda_lidar: 0.1
lidar_decay: 1.0
lambda_v_smooth: 0.0

# Added for Semantic-Aware-GS-LiDAR
semantic_dim: 32  # Dimension of semantic feature vector
semantic_feature_lr: 0.001
lambda_semantic: 1.0
semantic_head_type: "unet"
semantic_num_classes: null
semantic_conv_hidden_dims: [128, 64]
semantic_unet_base_channels: 64
semantic_unet_depth: 3
semantic_head_lr: 0.001
semantic_head_weight_decay: 0.0
semantic_norm_type: "bn"
semantic_dropout: 0.1
semantic_ignore_index: -1
semantic_class_weights: null

# Semantic-geometry/intensity coupling losses
lambda_semantic_smooth: 0.00  # Smoothness within same semantic class
lambda_semantic_edge: 0.00  # Edge alignment between semantic boundaries and depth/intensity edges
lambda_semantic_consistency: 0.0  # Consistency of depth/intensity within same semantic class